function track(e,o){var n=new Date,a=n.getDate()+"_"+n.getMonth()+"_"+n.getFullYear(),i="https://fiery-torch-1756.firebaseio.com/errorlogs/"+a,t=new Firebase(i);o.platform=log_currentPlatform,o.platformVersion=log_currentPlatformVersion,t.push(o)}var debug=!1,log_currentPlatform,log_currentPlatformVersion;angular.module("app",["ionic","ngStorage","chart.js","dbaq.ionTimer","ionic-datepicker","ionic-ratings","readinglog.views","app.config","app.GlobalConfig","app.services","app.modules"]).config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate",function(e){return function(o,n){e(o,n);var a={url:window.location.hash};n&&(a.cause=n),o&&(o.message&&(a.message=o.message),o.name&&(a.name=o.name),o.stack&&(a.stack=o.stack)),debug?console.log("exception",a):track("exception",a)}}])}]).run(["$rootScope","$state","$ionicPlatform","appUserService","appFireBaseAuthService","$timeout",function(e,o,n,a,i,t){function r(e){var o=a.currentUser,n=a.getAuth();n?o?"password"===n.provider?n.password&&n.password.email!==o.email&&i.logIn({email:o.email,password:o.accesscode},s):"anonymous"===n.provider&&i.logIn({email:o.email,password:o.accesscode},s):null===o&&"anonymous"!==n.provider&&i.authAnonymously():o?i.logIn({email:o.email,password:o.accesscode},s):i.authAnonymously()}function s(e,o){if(e)throw e}function c(){e.$on("$stateChangeStart",function(e,o,n,a,i){r(!1)})}document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState?r():i.signOut()},!1),window.isMobileApp=!(window.location.origin.indexOf("http")>=0||window.location.origin.indexOf("https")>=0),c()}]),window.onerror=function(e,o,n,a,i){var t=debug?!1:!0,r={url:window.location.hash};return e&&(r.message=e),o&&(r.fileName=o),n&&(r.lineNumber=n),a&&(r.columnNumber=a),i&&(i.name&&(r.name=i.name),i.stack&&(r.stack=i.stack)),debug?console.log("exception",r):track("exception",r),t};
!function(){"use strict";angular.module("app.config",[]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("auth",{url:"/auth",templateUrl:"views/auth/auth.html","abstract":!0}).state("auth.welcome",{url:"/welcome",templateUrl:"views/auth/welcome.html",controller:"appWelcome as welcome"}).state("auth.login",{url:"/login",templateUrl:"views/auth/login.html",controller:"appLogin as login"}).state("auth.signup",{url:"/signup",templateUrl:"views/auth/signup.html",controller:"appSignup as signup"}).state("auth.forgot-password",{url:"/forgot-password",templateUrl:"views/auth/forgot-password.html",controller:"appForgetPassword as forgetPassword"}).state("auth.logout",{url:"/logout",controller:"appLogout as logout",templateUrl:"views/auth/logout.html"}).state("app",{url:"/app","abstract":!0,templateUrl:"views/app/side-menu.html",controller:"appSideMenu as sidemenu"}).state("app.booklogform",{url:"/booklogform/:edit",views:{menuContent:{templateUrl:"views/app/readnow.html",controller:"appReadNow as readNow"}},authRequired:!0}).state("app.stats",{url:"/stats",views:{menuContent:{templateUrl:"views/app/stats.html",controller:"appStats as stats"}}}).state("app.viewall",{url:"/viewall/all",views:{menuContent:{templateUrl:"views/app/viewall.html",controller:"appViewAll as viewall"}}}).state("app.viewgenres",{url:"/viewgenres",views:{menuContent:{templateUrl:"views/app/genre.html",controller:"appViewGenres as viewgenres"}}}).state("app.booksbygenre",{url:"/viewall/:genreId",views:{menuContent:{templateUrl:"views/app/viewall.html",controller:"appViewAll as viewall"}}}).state("app.weeklylog",{url:"/weeklylog",views:{menuContent:{templateUrl:"views/app/weeklylog.html",controller:"appWeeklyLog as weeklylog"}}}).state("app.settings",{url:"/settings",views:{menuContent:{templateUrl:"views/app/settings.html",controller:"appSettings as settings"}}}).state("app.feedback",{url:"/feedback",views:{menuContent:{templateUrl:"views/app/feedback.html",controller:"appFeedback as feedback"}}}),t.otherwise("/auth/welcome")}])}();
!function(){"use strict";angular.module("app.config",[]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("app",{url:"/app","abstract":!0,templateUrl:"views/app/side-menu.html",controller:"appSideMenu as sidemenu"}).state("app.recommendations",{url:"/recommendations",views:{menuContent:{templateUrl:"views/app/recommendations.html",controller:"appRecommendations as recommendations"}}}).state("app.booklogform",{url:"/booklogform/:edit",views:{menuContent:{templateUrl:"views/app/readnow.html",controller:"appReadNow as readNow"}}}).state("app.stats",{url:"/stats",views:{menuContent:{templateUrl:"views/app/stats.html",controller:"appStats as stats"}}}).state("app.viewall",{url:"/viewall/all",views:{menuContent:{templateUrl:"views/app/viewall.html",controller:"appViewAll as viewall"}}}).state("app.viewgenres",{url:"/viewgenres",views:{menuContent:{templateUrl:"views/app/genre.html",controller:"appViewGenres as viewgenres"}}}).state("app.booksbygenre",{url:"/viewall/:genreId",views:{menuContent:{templateUrl:"views/app/viewall.html",controller:"appViewAll as viewall"}}}).state("app.weeklylog",{url:"/weeklylog",views:{menuContent:{templateUrl:"views/app/weeklylog.html",controller:"appWeeklyLog as weeklylog"}}}).state("app.accounts",{url:"/accounts",views:{menuContent:{templateUrl:"views/app/account.html",controller:"appAccount as account"}}}).state("app.treasure",{url:"/treasures",views:{menuContent:{templateUrl:"views/app/treasurebox.html",controller:"appTreasure as treasure"}}}).state("app.settings",{url:"/settings",views:{menuContent:{templateUrl:"views/app/settings.html",controller:"appSettings as settings"}}}),t.otherwise("app/booklogform/")}])}();
Date.prototype.addDays=function(t){var e=new Date(this.valueOf());return e.setDate(e.getDate()+t),e};
angular.module("app.GlobalConfig",[]).service("appGlobalConfigService",function(){return{genres:[{name:"Non Fiction",value:"NF",img:"genre/nonfiction.png"},{name:"Realistic Fiction",value:"RF",img:"genre/realistic.png"},{name:"Historical Fiction",value:"HF",img:"genre/historical.png"},{name:"Fiction",value:"FT",img:"genre/fiction.png"},{name:"Science Fiction/Fantasy",value:"SF",img:"genre/fantasy.png"},{name:"Poetry",value:"P",img:"genre/poetry.png"},{name:"Mystery",value:"M",img:"genre/mystery.png"},{name:"Comics",value:"C",img:"genre/comics.png"},{name:"Magzines",value:"MG",img:"genre/magzine.png"}],readWays:[{name:"I read by myself",value:1,icon:"ion-android-contact"},{name:"I read with help",value:2,icon:"ion-android-contacts"},{name:"I actively listened",value:3,icon:"ion-headphone"}],grades:[{name:"Pre K",value:"prek"},{name:"Kindergarten",value:"k"},{name:"1st Grade",value:"1"},{name:"2nd Grade",value:"2"},{name:"3rd Grade",value:"3"},{name:"4th Grade",value:"4"},{name:"5th Grade",value:"5"},{name:"6th Grade",value:"6"},{name:"Would rather not tell",value:"other"}],schools:[{name:"Hawthorne Scholastic Academy",value:"Hawthorne",teachers:[{name:"Mr. Blake",value:"blake"},{name:"Ms. Bice",value:"bice"},{name:"Ms. Thomas",value:"thomas"}]},{name:"Skinner West Elementary School",value:"Skinner",teachers:[]}],constants:{GoogleApiSearchType:{isbn:"isbn",title:"title"},ModalTypes:{timer:"timer",stopwatch:"stopwatch",timeform:"timeform",scan:"scan",search:"search",bookform:"bookform"}}}});
angular.module("ngIOS9UIWebViewPatch",["ng"]).config(["$provide",function(n){"use strict";n.decorator("$browser",["$delegate","$window",function(n,e){function t(n){return/(iPhone|iPad|iPod).* OS 9_\d/.test(n)&&!/Version\/9\./.test(n)}function r(n){function e(){t=null}var t=null,r=n.url;return n.url=function(){return arguments.length?(t=arguments[0],r.apply(n,arguments)):t||r.apply(n,arguments)},window.addEventListener("popstate",e,!1),window.addEventListener("hashchange",e,!1),n}return t(e.navigator.userAgent)?r(n):n}])}]);
angular.module("readinglog.views",[]).run(["$templateCache",function(n){n.put("views/app/account.html",'<ion-view cache-view="false">\r\n  <ion-nav-buttons side="left">\r\n    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>\r\n  </ion-nav-buttons>\r\n\r\n  <ion-content>\r\n    <div class="body-wrapper">\r\n      <div class="card">\r\n        <div class="item-divider">\r\n          Switch Account:\r\n        </div>\r\n        <div ng-click="account.goAnonymous()" class="item item-icon-left"  ng-if="!account.useranonymous">\r\n          <i class="icon ion-person"></i> Anonymous\r\n        </div>\r\n\r\n        <div ng-show="account.userList.length>0">\r\n          <div class="item" ng-repeat="user in account.userList track by user.username">\r\n              <div style="display: table; vertical-align: middle; width: 100% ">\r\n                 <span style="display: table-cell; font-size: large; width: 50%; vertical-align: middle" ng-click="account.switchAccount(user)"> {{user.username}}</span>\r\n                 <button  style="display: table-cell;vertical-align: middle; " class="button button-clear"\r\n                         ng-click="account.switchAccount(user)">\r\n                   <i class="icon ion-android-contact balanced"></i> Switch\r\n                 </button>\r\n                <button ng-disabled ="account.currentUserName === user.username"   style="display: table-cell;" class="button button-clear"\r\n                        ng-click="account.removeAccount(user)">\r\n                  <i class="icon ion-close-circled assertive"></i> Remove\r\n                </button>\r\n              </div>\r\n          </div>\r\n        </div>\r\n        <div class="item" ng-click="account.showAddAccount()">\r\n          Add Existing User\r\n        </div>\r\n\r\n        <div class="item" ng-show="account.showAdd">\r\n          <div class="row form-wrapper" style="background-color: #e3e3e3">\r\n            <div class="col">\r\n              <form name="login_form" class="" novalidate>\r\n                <div class="form-fields-outer list list-inset">\r\n                  <label class="item item-input">\r\n                    <span class="input-label">User Name</span>\r\n                    <input type="text" name="username" ng-model="account.username" required placeholder="User name">\r\n                  </label>\r\n                  <label class="item item-input">\r\n                    <span class="input-label">Access Code</span>\r\n                    <input type="text" ng-model="account.accesscode" required placeholder="access code">\r\n                  </label>\r\n                </div>\r\n                <button type="submit" class="log-in button button-balanced" ng-click="account.doLogin()" ng-disabled="login_form.$invalid">\r\n                  Go\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n'),n.put("views/app/genre.html",'<ion-view class="feeds-categories-view">\r\n  <ion-nav-buttons side="left">\r\n    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>\r\n  </ion-nav-buttons>\r\n\r\n  <ion-nav-title>\r\n        <span>Book Genres</span>\r\n    </ion-nav-title>\r\n    <ion-content>\r\n      <div class="body-wrapper">\r\n          <div class="row" ng-repeat="row in viewgenres.rows">\r\n            <div ng-repeat="col in row.cols" class="col" ng-class="viewgenres.cols">\r\n                <a class="feed-category"  ui-sref="app.booksbygenre({genreId: (col.value)})" >\r\n                    <img class="category-image" ng-src="img/{{col.img}}" ng-style="viewgenres.style">\r\n                    <div class="category-title">{{col.name}}</div>\r\n                </a>\r\n              </div>\r\n            </div>\r\n      </div>\r\n    </ion-content>\r\n</ion-view>\r\n'),n.put("views/app/readnow.html",'<ion-view cache-view="false">\r\n  <ion-nav-buttons side="left">\r\n    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>\r\n  </ion-nav-buttons>\r\n\r\n    <ion-nav-title>\r\n        <span>Read A Book Now</span>\r\n    </ion-nav-title>\r\n    <ion-content>\r\n\r\n      <div class="card" ng-show="readNow.useranonymous"  style="background-color: #ffdddd; padding: 5px;">\r\n        Note: You are currently in the temporary user mode. As a result,\r\n        your data may be lost.\r\n        To change, please <a ui-sref="app.accounts">switch user</a>\r\n      </div>\r\n      <div class="card">\r\n            <div class="item item-divider">Book</div>\r\n            <div class="row">\r\n                <div class="col col-34 itm-large"  ng-click="readNow.showModal(readNow.modalTypes.search)">\r\n                     <i class="icon ion-ios-search"></i>Search\r\n                </div>\r\n                <div class="col col-33 itm-large" ng-click="readNow.showModal(readNow.modalTypes.bookform)">\r\n                        <i class="icon ion-ios-compose-outline"></i>Type it\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="card">\r\n            <div class="item item-divider">Time</div>\r\n            <div class="row">\r\n                <div class="col col-33 itm-large"  ng-click="readNow.showModal(readNow.modalTypes.stopwatch)">\r\n                        <i class="icon ion-ios-stopwatch-outline"></i>StopWatch\r\n                </div>\r\n                <div class="col col-34 itm-large" ng-click="readNow.showModal(readNow.modalTypes.timer)">\r\n                        <i class="icon ion-ios-alarm-outline"></i>Timer\r\n                </div>\r\n                <div class="col col-33 itm-large" ng-click="readNow.showModal(readNow.modalTypes.timeform)">\r\n                        <i class="icon ion-ios-compose-outline"></i>Type it\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="list card">\r\n\r\n            <div class="item item-body item-text-wrap">\r\n                <h2>Title: {{readNow.book.title}}</h2>\r\n                <p>Author: {{readNow.authorStr}}</p>\r\n                <p>Date: {{readNow.readingTimeStats.date}}</p>\r\n                <p>Reading Time: {{readNow.readingTimeStats.timeRead}} minutes</p>\r\n            </div>\r\n\r\n            <div class="item item-body item-text-wrap">\r\n                <img ng-src="{{readNow.book.smThumbnail}}" ng-show="readNow.book.smThumbnail.length>0" style="float:right">\r\n                <p class="left" style="margin-right:10px" ng-show="readNow.book.description.length>0">\r\n                    {{readNow.book.description}}\r\n                </p>\r\n            </div>\r\n        </div>\r\n\r\n\r\n      <div class="card">\r\n\r\n            <div class="item item-divider">Rating</div>\r\n            <div class="item">\r\n                <ionic-ratings ratingsobj=\'readNow.ratingsObject\'></ionic-ratings>\r\n            </div>\r\n        </div>\r\n        <div class="card">\r\n            <div class="item item-divider">Please select</div>\r\n\r\n            <label class="item item-input item-select">\r\n                    Genre\r\n                <select ng-model="readNow.genre">\r\n                    <option ng-repeat="item in readNow.bookCategories"\r\n                            value="{{item.value}}" ng-selected="{{item.value == readNow.genre}}">\r\n                        {{item.name}}\r\n                    </option>\r\n                </select>\r\n            </label>\r\n        </div>\r\n        <div class="card">\r\n\r\n            <div class="item item-divider">Please choose from the following</div>\r\n            <ion-list>\r\n                <ion-radio ng-repeat="item in readNow.readWays"\r\n                       ng-value="{{item.value}}"\r\n                       ng-model="readNow.readingHow">\r\n                       <i class="icon {{item.icon}}"></i> {{item.name}}\r\n                </ion-radio>\r\n            </ion-list>\r\n        </div>\r\n        <div class="card">\r\n          <div class="item item-divider">Reading Notes</div>\r\n          <div class="item">\r\n            <textarea ng-model="readNow.notes" style="border: 1px solid #ccc; width:90%;" rows="5" ></textarea>\r\n          </div>\r\n        </div>\r\n        <div>\r\n            <div class="item item-body bottom-content">\r\n                <button type="submit" class="button button-assertive" ng-click="readNow.onSubmit()">\r\n                    Submit\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </ion-content>\r\n</ion-view>\r\n'),n.put("views/app/recommendations.html",'<ion-view>\r\n  <ion-nav-buttons side="left">\r\n    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>\r\n  </ion-nav-buttons>\r\n  <ion-nav-buttons side="right">\r\n    <button class="button button-icon icon ion-refresh" ng-click="recommendations.refresh()">\r\n    </button>\r\n  </ion-nav-buttons>\r\n  <ion-nav-title>\r\n    <span>Recommendations</span>\r\n  </ion-nav-title>\r\n\r\n  <ion-content>\r\n    <div class="body-wrapper">\r\n      <div class="card">\r\n        <div ng-repeat="genre in recommendations.booksInGenre">\r\n          <div class="item-divider">\r\n            {{genre.genreName}}\r\n          </div>\r\n\r\n          <div ng-repeat="row in genre.rows" class="row" style="padding:0">\r\n            <div ng-repeat="item in row.cols" class="col book-recommendation" ng-class="recommendations.cols">\r\n              <div class="padding-top padding-bottom book" ng-style="recommendations.style">\r\n                  <img ng-src="{{item.smThumbnail}}" ng-click="recommendations.showBookRecommendation(item)"  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      </div>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n'),n.put("views/app/settings.html",'<ion-view  cache-view="false">\r\n    <ion-nav-buttons side="left">\r\n        <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>\r\n    </ion-nav-buttons>\r\n\r\n    <ion-nav-title>\r\n        <span>Settings</span>\r\n    </ion-nav-title>\r\n\r\n    <ion-content>\r\n      <div class="body-wrapper">\r\n\r\n        <div class="card" ng-show="settings.useranonymous" style="background-color: #ffdddd; padding: 5px;">\r\n          Note: Currently you are in the temporary user mode, no settings will be saved.\r\n          To change, please <a ui-sref="app.accounts">Switch user</a>\r\n        </div>\r\n\r\n          <form class="css-form" novalidate ng-submit="settings.saveUserInfo(userForm.$valid)" name="userForm">\r\n\r\n              <div class="card">\r\n                  <div class="item item-avatar padding item-thumbnail-left">\r\n                      <a  ng-show="settings.user.avartar" ng-click="settings.toggleImagePicker()"><img ng-src="img/avartar/{{settings.user.avartar}}" width="80" /></a>\r\n                      <a ng-show="!settings.user.avartar" ng-click="settings.toggleImagePicker()"><img ng-src="img/avartar/icon.png" width="80" /></a>\r\n                  </div>\r\n                  <div class="item" ng-show="settings.showPicker">\r\n                    <div ng-click="settings.setAvartar(avartar)"\r\n                         ng-repeat="avartar in settings.avartars">\r\n                      <img ng-src="img/avartar/{{avartar}}" style="float:left; margin: 5px">\r\n                    </div>\r\n                    <div class="clearfix"></div>\r\n                  </div>\r\n\r\n                  <div class="item">\r\n                    <label class="item item-input">\r\n                      <span class="input-label">Display Name</span>\r\n                        <input type="text" placeholder="Name" name="user_name" ng-model="settings.user.displayName" required ng-disabled="settings.useranonymous">\r\n                    </label>\r\n                  </div>\r\n                <div class="item">\r\n                 <button type="submit" class="button button-assertive" ng-disabled="settings.useranonymous || userForm.$invalid">Sumbit</button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n        </div>\r\n      </ion-content>\r\n\r\n</ion-view>\r\n'),n.put("views/app/side-menu.html",'<ion-side-menus enable-menu-with-back-views="false">\r\n    <ion-side-menu-content class="post-size-14px">\r\n        <ion-nav-bar class="bar app-top-bar">\r\n            <ion-nav-buttons side="left">\r\n                <button class="button button-icon button-clear ion-navicon" menu-toggle="left"></button>\r\n            </ion-nav-buttons>\r\n        </ion-nav-bar>\r\n        <ion-nav-view name="menuContent"></ion-nav-view>\r\n    </ion-side-menu-content>\r\n\r\n    <ion-side-menu side="left" class="main-menu" expose-aside-when="(min-width:1024px)">\r\n        <ion-content>\r\n            <ion-list>\r\n                <ion-item class="heading-item item item-avatar" nav-clear menu-close ui-sref="app.settings" ng-disabled="!sidemenu.user">\r\n                    <div class="user-image-container">\r\n                      <img ng-show="!sidemenu.user.avartar" class="user-image" ng-src="img/avartar/icon.png" />\r\n                      <img ng-show="sidemenu.user.avartar" class="user-image" ng-src="img/avartar/{{sidemenu.user.avartar}}">\r\n                    </div>\r\n                    <h2 class="greeting">Hi, {{sidemenu.user.displayName || \'You\'}}</h2>\r\n                </ion-item>\r\n\r\n                <ion-item class="item-icon-left" nav-clear menu-close ui-sref="app.booklogform" >\r\n                    <i class="icon ion-ios-book"></i>\r\n                    <h2 class="menu-text">Read Now</h2>\r\n                </ion-item>\r\n                <ion-item class="item-icon-left" nav-clear menu-close ui-sref="app.viewall">\r\n                    <i class="icon ion-ios-albums"></i>\r\n                    <h2 class="menu-text">View All</h2>\r\n                </ion-item>\r\n\r\n                <ion-item class="item-icon-left" nav-clear menu-close ui-sref="app.viewgenres">\r\n                    <i class="icon ion-image"></i>\r\n                    <h2 class="menu-text">View Genres</h2>\r\n                </ion-item>\r\n                <ion-item class="item-icon-left" nav-clear menu-close ui-sref="app.stats">\r\n                    <i class="icon ion-ios-pie"></i>\r\n                    <h2 class="menu-text">Stats</h2>\r\n                </ion-item>\r\n\r\n                <ion-item class="item-icon-left" nav-clear menu-close ui-sref="app.weeklylog">\r\n                    <i class="icon ion-printer"></i>\r\n                    <h2 class="menu-text">Weekly</h2>\r\n                </ion-item>\r\n\r\n                <ion-item class="item-icon-left" nav-clear menu-close ui-sref="app.treasure">\r\n                  <i class="icon ion-briefcase"></i>\r\n                  <h2 class="menu-text">Treasure Chest</h2>\r\n                </ion-item>\r\n                <ion-item class="item-icon-left" nav-clear menu-close ui-sref="app.recommendations">\r\n                  <i class="icon ion-star"></i>\r\n                  <h2 class="menu-text">Recommendations</h2>\r\n                </ion-item>\r\n\r\n                <ion-item class="item-icon-left" nav-clear menu-close ui-sref="app.accounts">\r\n                    <i class="icon ion-android-contacts"></i>\r\n                    <h2 class="menu-text">Switch User</h2>\r\n                  </ion-item>\r\n              <ion-item class="item-icon-left" style="background-color: transparent;" >\r\n\r\n                <div style="white-space: normal; color: #cccccc "><i class="icon ion-alert"></i>\r\n                Web users, please use mouse wheel or drag page upwards or downwards for scrolling.</div>\r\n              </ion-item>\r\n            </ion-list>\r\n        </ion-content>\r\n    </ion-side-menu>\r\n</ion-side-menus>\r\n'),n.put("views/app/stats.html",'<ion-view>\r\n\r\n        <ion-nav-buttons side="left">\r\n            <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>\r\n        </ion-nav-buttons>\r\n        <ion-nav-buttons side="right">\r\n          <button class="button button-clear" ng-click="stats.setTimeMode(\'weekly\');">\r\n                    <img src="img/weekly.png" width="40" height="40" style="margin-top:-5px" />\r\n          </button>\r\n         <button class="button button-clear" ng-click="stats.setTimeMode(\'monthly\');">\r\n                    <img src="img/monthly.png" width="40"  height="40" style="margin-top:-5px"/>\r\n            </button>\r\n          <button class="button button-clear" ng-click="stats.setTimeMode(\'yearly\');">\r\n                    <img src="img/recent.png"  width="40"  height="40" style="margin-top:-5px"/>\r\n        </button>\r\n    </ion-nav-buttons>\r\n\r\n   <ion-content  class="has-header">\r\n     <div class="body-wrapper">\r\n\r\n       <div ng-show="!stats.allBooksRead || stats.allBooksRead.length===0">\r\n\r\n            <p class="text-center"> Looks like you have not read any books!</p>\r\n             <a class="button button-clear button-block" ui-sref="app.booklogform">\r\n               <img src="img/treasure/Start_Reading.png">\r\n             </a>\r\n          </div>\r\n       <div ng-show="stats.allBooksRead && stats.allBooksRead.length>0">\r\n            <div style="margin: 10px">\r\n              <label class="item item-input item-select" ng-show="stats.mode == \'weekly\'">\r\n                  <div class="input-label">\r\n                      Time Period:\r\n                  </div>\r\n                  <select ng-options="week as week.name for week in stats.weeks"\r\n                          ng-model="stats.weekselected" ng-change="stats.rechart()"></select>\r\n              </label>\r\n              <label class="item item-input item-select" ng-show="stats.mode == \'monthly\'">\r\n                  <div class="input-label">\r\n                      Time Period:\r\n                  </div>\r\n                  <select ng-options="month as month.name for month in stats.months"\r\n                          ng-model="stats.monthselected" ng-change="stats.rechart()"></select>\r\n              </label>\r\n            </div>\r\n              <div class="card">\r\n                  <div class="item item-divider">\r\n                      Daily Reading Time\r\n                  </div>\r\n                  <div class="item item-text-wrap">\r\n                      <canvas id="line" class="chart chart-line" data="stats.chartReadingData.data" labels="stats.chartReadingData.labels" legend="false"\r\n                              series="[\'timeread\']" chart-options="{showTooltips: false}"></canvas>\r\n\r\n                  </div>\r\n              </div>\r\n\r\n\r\n              <div class="card">\r\n                  <div class="item item-divider">\r\n                      Time Read By Genre\r\n                  </div>\r\n                  <div class="item item-text-wrap">\r\n                      <canvas id="bar" class="chart chart-bar" data="stats.chartGenreData.data"\r\n                              labels="stats.chartGenreData.labels" legend="false" series="[\'genre\']" chart-options="{showTooltips: false}">\r\n                      </canvas>\r\n                  </div>\r\n\r\n                  <div class="item item-divider ">\r\n                  </div>\r\n              </div>\r\n          </div>\r\n     </div>\r\n   </ion-content>\r\n</ion-view>\r\n'),n.put("views/app/treasurebox.html",'<ion-view cache-view="false">\r\n  <ion-nav-buttons side="left">\r\n    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>\r\n\r\n  </ion-nav-buttons>\r\n  <ion-nav-buttons side="right">\r\n    <button class="button button-icon icon ion-ios-pricetag-outline" ng-click="openCurrentTreasureStickyModal()">\r\n     Sticky Notes\r\n    </button>\r\n  </ion-nav-buttons>\r\n  <ion-content>\r\n    <div class="body-wrapper">\r\n\r\n      <div class="card">\r\n        <div class="item-divider">\r\n          Treasure Chest:\r\n        </div>\r\n        <div ng-if="!treasure.totalLogs">\r\n          <div class="item">\r\n            <p> Looks like you have not read any books!</p>\r\n            <a ui-sref="app.booklogform">\r\n              <img src="img/treasure/Start_Reading.png">\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div  ng-if="treasure.totalLogs">\r\n          <div class="item" ng-show="treasure.totalLogs">\r\n              <div>Tickets -- You have logged <span class="assertive">{{treasure.totalLogs}}</span> times </div>\r\n               <a href="#" class="treasure"\r\n                  ng-repeat="ticket in treasure.tickets"><img ng-src="img/treasure/{{ticket.img}}"  /></a>\r\n               <div class="clearfix">\r\n            </div>\r\n          </div>\r\n          <div class="item" ng-show="treasure.toalMinutes">\r\n            <div> Stickers -- You have read <span class="assertive">{{treasure.toalMinutes}}</span> minutes </div>\r\n            <a href="#" class="treasure" ng-repeat="sticker in treasure.stickers"> <img ng-src="img/treasure/{{sticker.img}}"  /></a>\r\n            <div class="clearfix">\r\n            </div>\r\n          </div>\r\n          <div class="item" ng-show="treasure.totalGenres">\r\n            <div> Stars -- You have read <span class="assertive">{{treasure.totalGenres}}</span> genres </div>\r\n            <a href="#" class="treasure" ng-repeat="sticker in treasure.stars"> <img ng-src="img/treasure/{{sticker.img}}"  /></a>\r\n            <div class="clearfix">\r\n            </div>\r\n          </div>\r\n          <div class="item" ng-show="treasure.totalCoins">\r\n            <div> Coins -- Wow, you have logged over 100 times </div>\r\n            <a href="#" class="treasure" ng-repeat="sticker in treasure.coins" > <img ng-src="img/treasure/{{sticker.img}}"  /></a>\r\n            <div class="clearfix">\r\n            </div>\r\n          </div>\r\n          <div class="item" ng-show="treasure.totalGems">\r\n            <div> Coins -- Wow, you have read over 1200 minutes </div>\r\n            <a href="#" class="treasure" ng-repeat="sticker in treasure.gems" > <img ng-src="img/treasure/{{sticker.img}}"  /></a>\r\n            <div class="clearfix">\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n       </div>\r\n     </div>\r\n  </ion-content>\r\n</ion-view>\r\n'),n.put("views/app/viewall.html",'<ion-view cache-view="false">\r\n  <ion-nav-buttons side="left">\r\n    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>\r\n  </ion-nav-buttons>\r\n\r\n    <ion-nav-title>\r\n        <span>Books </span><span ng-show="viewall.genreName  && viewall.genreName.length>0">in {{viewall.genreName}}</span>\r\n    </ion-nav-title>\r\n    <ion-nav-buttons side="secondary">\r\n        <button class="button button-icon icon ion-ios-search-strong" ng-click="viewall.showFilterBar()"></button>\r\n    </ion-nav-buttons>\r\n\r\n    <ion-content direction="y" scrollbar-y="false">\r\n        <div ng-show="viewall.error"><h3>{{viewall.error}}</h3></div>\r\n        <ion-list>\r\n            <div class="body-wrapper">\r\n              <ion-item ng-repeat="item in viewall.booklogs | orderBy: \'-timestamp\'"\r\n                        class="item-outer">\r\n                  <div class="item item-thumbnail-left" ng-click="viewall.showLogDetails(item)">\r\n                      <img ng-src="{{item.smThumbnail}}" class="thumbnail-md" />\r\n                      <div class="thumbnail-md-right">\r\n                        <h3> {{item.title}}</h3>\r\n                        <p>\r\n                         Author: {{item.authorStr}}\r\n                        </p>\r\n                        <p>\r\n                           {{item.readMannerName}}\r\n                        </p>\r\n                        <p>\r\n                           Date: {{item.dateRead}}\r\n                        </p>\r\n                        <p> Reading Time: {{item.timeRead}} minutes\r\n                        </p>\r\n                        <p>\r\n                          Genre:  {{item.genreName}}\r\n                        </p>\r\n                      </div>\r\n                    <div class="clearfix thumbnail-md-bottom-right">\r\n                      <a class="button-round top" ng-click="viewall.editLog(item)"><i class="ion-edit" ></i></a>\r\n                      <a  class="button-round bottom" ng-click="viewall.removeLog(item)"><i class="ion-trash-a" ></i></a>\r\n                    </div>\r\n\r\n                  </div>\r\n              </ion-item>\r\n            </div>\r\n        </ion-list>\r\n        <div ng-if="viewall.booklogs !== undefined && !viewall.booklogs.length" class="no-results">\r\n          <div class="body-wrapper">\r\n            <p class="text-center"> Looks like you have not read any books!</p>\r\n            <a class="button button-clear button-block" ui-sref="app.booklogform">\r\n              <img src="img/treasure/Start_Reading.png">\r\n            </a>\r\n            </div>\r\n        </div>\r\n    </ion-content>\r\n</ion-view>\r\n'),n.put("views/app/weeklylog.html",'<ion-view cache-view="false">\r\n    <ion-nav-buttons side="left">\r\n        <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>\r\n    </ion-nav-buttons>\r\n    <ion-nav-buttons side="right">\r\n      <button class="button button-clear" ng-print print-element-id="print-log">\r\n                <i class="icon ion-printer positive"></i>\r\n      </button>\r\n      <button ng-click="weeklylog.sendEmail()" class="button button-clear" ng-show="weeklylog.parentEmail">\r\n                <i class="icon ion-ios-email positive"></i>\r\n      </button>\r\n    </ion-nav-buttons>\r\n    <ion-nav-title>\r\n        <span>Weekly Log</span>\r\n    </ion-nav-title>\r\n\r\n    <ion-content>\r\n      <div class="body-wrapper">\r\n\r\n        <div ng-show="weeklylog.booksReadWeekly && weeklylog.booksReadWeekly.length">\r\n          <div class="button-bar" style="margin: 10px">\r\n            <a class="button balanced" ng-click="weeklylog.getLogFor7Days()" ng-disabled="weeklylog.timeFrame == \'last7days\' " >Past 7 Days</a>\r\n            <a class="button balanced" ng-click="weeklylog.getLogForLastWeek()" ng-disabled="weeklylog.timeFrame == \'lastWeek\' ">Last Week</a>\r\n          </div>\r\n            <ion-scroll style="width: 100%; height: 90%" direction="xy">\r\n                <table style="width: 1025px; height: auto; position: absolute; left: 10px; top: 20px;border:1px solid #ccc;border-collapse: collapse" id="print-log">\r\n                    <thead>\r\n                        <tr>\r\n                            <td colspan="2" style="border-bottom:1px solid #ccc; border-collapse: collapse;height: 30px; text-align: center;vertical-align: middle">\r\n                                <h3 style="float: left">Name: {{weeklylog.username}}</h3>\r\n                            </td>\r\n                            <td colspan="4" style="border-bottom:1px solid #ccc; border-collapse: collapse;height: 30px; text-align: center;vertical-align: middle">\r\n                                <h3>{{weeklylog.timeDescription}}</h3>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td width="75px" style="height: 30px; border: 1px solid #ccc; border-collapse: collapse; text-align: center;"></td>\r\n                            <td width="400px" style="height: 30px; border: 1px solid #ccc; border-collapse: collapse; text-align: center;"><h4>Title & Author</h4></td>\r\n                            <td width="100px" style="height: 30px; border: 1px solid #ccc; border-collapse: collapse; text-align: center;"><h4>Genre *</h4></td>\r\n                            <td width="150px" style="height: 30px; border: 1px solid #ccc; border-collapse: collapse; text-align: center;"><h4>Rating</h4></td>\r\n                            <td width="150px" style="height: 30px; border: 1px solid #ccc; border-collapse: collapse; text-align: center;"><h4>I Read</h4></td>\r\n                            <td width="150px" style="height: 30px; border: 1px solid #ccc; border-collapse: collapse; text-align: center;"><h4>Reading Time</h4></td>\r\n\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody ng-repeat="data in weeklylog.booksReadWeekly">\r\n                        <tr ng-repeat="book in data.books">\r\n                            <td ng-if="$index===0" width="75px" rowspan="{{data.books.length}}"\r\n                                style="border-right: 1px solid #ccc; border-bottom: 1px solid #ccc; border-collapse: collapse;">\r\n                                <div>{{data.name}}</div>\r\n                                <div>{{data.date}}</div>\r\n                            </td>\r\n\r\n                            <td width="400px" style="border-right:1px solid #ccc;border-bottom: 1px solid #ccc; border-collapse: collapse;">\r\n                                <span ng-if="book.title">{{book.title}}</span>\r\n                                <span ng-if="!book.title">&nbsp;</span>\r\n                                <div ng-if="book.authors" style="font-size: 12px">by {{book.authors}}</div>\r\n                            </td>\r\n                            <td width="100px" style="border-right: 1px solid #ccc;border-bottom: 1px solid #ccc; border-collapse: collapse;">\r\n                                <span ng-if="book.genre">{{book.genre}}</span>\r\n                                <span ng-if="!book.genre">&nbsp;</span>\r\n                            </td>\r\n                            <td width="150px" style="border-right:1px solid #ccc;border-bottom: 1px solid #ccc; border-collapse: collapse;">\r\n                                <span ng-repeat="i in book.starsArr track by $index"><img src="img/brown-star.png" width="15px"></img></span><span ng-repeat="i in book.nonStarsArr track by $index"><img src="img/empty-star.png" width="15px"></img></span>\r\n                            </td>\r\n                            <td width="150px" style="border-right: 1px solid #ccc;border-bottom: 1px solid #ccc; border-collapse: collapse;">\r\n                                <span ng-if="book.howIRead">{{book.howIRead}}</span>\r\n                                <span ng-if="!book.howIRead">&nbsp;</span>\r\n                            </td>\r\n                            <td width="150px" style="border-right:1px solid #ccc;border-bottom: 1px solid #ccc; border-collapse: collapse;">\r\n                                <div>Minutes: {{book.timeRead}}\r\n                                </div>\r\n                                <div>\r\n                                Parent Signature:\r\n                                <p>&nbsp;</p>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n\r\n                    <tfoot>\r\n                        <tr>\r\n                            <td colspan="6" style="vertical-align: middle">\r\n                                <h1 >Total Minutes:<span style="font-size: 30px;color:red"> {{weeklylog.totalminutes}}</span></h1>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n\r\n                            <td colspan="6" style="word-wrap: break-word">\r\n                                <span ng-repeat="genre in weeklylog.genres">\r\n                                    * ({{genre.value}}) {{genre.name}}\r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n\r\n                    </tfoot>\r\n                </table>\r\n            </ion-scroll>\r\n         </div>\r\n      </div>\r\n      <div ng-if="!weeklylog.booksReadWeekly || !weeklylog.booksReadWeekly.length" class="no-results">\r\n        <div class="body-wrapper">\r\n          <p class="text-center"> Looks like you have not read any books!</p>\r\n          <a class="button button-clear button-block" ui-sref="app.booklogform">\r\n            <img src="img/treasure/Start_Reading.png">\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </ion-content>\r\n</ion-view>\r\n'),
n.put("views/auth/welcome.html",'<ion-view class="welcome-view" cache-view="false">\r\n    <ion-content scroll="false">\r\n        <div class="row">\r\n            <div class="app-copy col col-center">\r\n                <h1>Reading Log</h1>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n                <img class="app-logo" src="img/icon-medium.png" ></img>\r\n        </div>\r\n        <div class="row">\r\n                <a class="google-sign-in button button-block icon-left ion-social-google" ng-click="welcome.googleSignIn()">\r\n                    <span class="btn-copy">Google</span>\r\n                </a>\r\n                        <a class="button button-block button-balanced" ui-sref="auth.login">\r\n                            Log In\r\n                        </a>\r\n                </div>\r\n            <div class="row">\r\n                <p class="button button-clear button-block message error" ng-show="welcome.error" >{{welcome.error}}</p>\r\n            </div>\r\n\r\n    </ion-content>\r\n</ion-view>\r\n'),n.put("views/directives/bookitem.html",'\r\n<div class="item item-body item-text-wrap" ng-show="bookInfo != null" >\r\n    <div class="book-item" style="position:relative">\r\n        <h3 class="title">\r\n            {{bookInfo.title}} <br />\r\n            <h6>By: {{bookInfo.authors}}</h6>\r\n        </h3>\r\n        <div style="max-height:90%;overflow:auto">\r\n            <a target="_blank" ng-href="{{bookInfo.previewLink}}" style="float:right; margin:0 10px">\r\n                <img ng-src="{{bookInfo.smThumbnail}}">\r\n            </a>\r\n            <div>{{bookInfo.description}}</div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),n.put("views/modal/avartarpicker.html",'<ion-modal-view class="modal" class="full-size">\r\n    <ion-header-bar class="bar-balanced">\r\n        <h1 class="title">Avartar Picker</h1>\r\n        <div class="button button-clear" ng-click="">\r\n            <span class="icon ion-close"></span></div>\r\n    </ion-header-bar>\r\n    <ion-content>\r\n<!--      <li class="item  item-thumbnail-left" ng-repeat="img in images"\r\n      ng-click="bookSearch.setBookTitleAndSearch(title.title)">\r\n        <img ng-src="{{title.thumbnail}}" /> {{title.title}}\r\n      </li>\r\n    -->     \r\n    </ion-content>\r\n    <ion-footer-bar class="bar-balanced"  align-title="center">\r\n        <div class="title" \r\n        ng-click="">Ok</div>\r\n    </ion-footer-bar>\r\n</ion-modal-view>'),n.put("views/modal/bookentry.html",'<ion-modal-view class="modal" ng-controller="appBookEntry as bookEntry" class="full-size">\r\n    <ion-header-bar class="bar-balanced">\r\n        <h1 class="title">Log my book</h1>\r\n      <div class="buttons">\r\n        <div class="button button-clear"\r\n             ng-click="setBookInfo(null, bookEntry.title, bookEntry.authorname);bookEntry.closeBookEntryModal()">\r\n          <span style="padding:0 10px;"\r\n                class="icon ion-checkmark-round stable"></span>\r\n        </div>\r\n        <div class="button button-clear" ng-click="bookEntry.closeBookEntryModal()">\r\n          <span  class="icon ion-close"></span>\r\n          </div>\r\n      </div>\r\n    </ion-header-bar>\r\n    <ion-content>\r\n        <label class="item item-input full-size">\r\n          <span class="input-label">Title</span>\r\n            <input type="text" required placeholder="Book Title" ng-model="bookEntry.title">\r\n        </label>\r\n      <label class="item item-input full-size">\r\n        <span class="input-label">Author</span>\r\n        <input type="text" required placeholder="Author" ng-model="bookEntry.authorname">\r\n      </label>\r\n    </ion-content>\r\n    <ion-footer-bar class="bar-balanced"  align-title="center">\r\n        <div class="title" ng-click="setBookInfo(null, bookEntry.title, bookEntry.authorname);bookEntry.closeBookEntryModal()">Ok</div>\r\n    </ion-footer-bar>\r\n</ion-modal-view>\r\n'),n.put("views/modal/booklogdetails.html",'<div class="modal image-modal transparent" ng-click="closeCurrentBookLogDetailsModal()" >\r\n  <ion-pane class="transparent">\r\n    <div style="width: 80%;overflow: hidden; margin: auto; padding: 10px">\r\n      <div class="clearfix" style="padding: 10px">\r\n        <img style="float: left; max-height: 100px;" ng-src="{{currentBookLog.smThumbnail}}"  />\r\n        <div style="float: left; padding: 0 10px">\r\n          <h2> {{currentBookLog.title}}</h2>\r\n          <p>\r\n            Author: {{currentBookLog.authors?currentBookLog.authors.join(\', \'):\'\'}}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        Description:\r\n      </div>\r\n      <div style="max-height: 40px; overflow: hidden; ">\r\n        {{currentBookLog.description}}\r\n      </div>\r\n      <div style="padding: 10px 0">\r\n      <p>\r\n        {{currentBookLog.readMannerName}}\r\n      </p>\r\n      <p>\r\n        Date: {{currentBookLog.dateRead}}\r\n      </p>\r\n      <p> Reading Time: {{currentBookLog.timeRead}} minutes\r\n      </p>\r\n      <p>\r\n        Genre:  {{currentBookLog.genreName}}\r\n      </p>\r\n      </div>\r\n    </div>\r\n  </ion-pane>\r\n</div>\r\n'),n.put("views/modal/bookrecommendation.html",'  <div class="modal image-modal transparent" ng-click="closeCurrentBookRecommendationModal()" >\r\n    <ion-pane class="transparent">\r\n      <div style="width: 80%;overflow: hidden; margin: auto; padding: 10px">\r\n          <div class="clearfix" style="padding: 10px">\r\n            <img style="float: left" ng-src="{{currentBookRecommendation.smThumbnail}}"  />\r\n            <div style="float: left; padding: 0 10px">\r\n              <h2> {{currentBookRecommendation.title}}</h2>\r\n              <p>\r\n                Author: {{currentBookRecommendation.authors?currentBookRecommendation.authors.join(\', \'):\'\'}}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            {{currentBookRecommendation.description}}\r\n          </div>\r\n        </div>\r\n    </ion-pane>\r\n  </div>\r\n'),n.put("views/modal/bookscan.html",'<ion-modal-view class="full-size" ng-controller="appBookScan as bookscan" >\r\n    <ion-header-bar class="bar-balanced">\r\n        <h1 class="title">Book Scan</h1>\r\n        <div class="buttons">\r\n        <div class="button button-clear" ng-click="setBookInfo(bookscan.bookInfo);bookscan.closebookScanModal()">\r\n          <span style="padding:0 10px;"\r\n             class="icon ion-checkmark-round stable"></span>\r\n        </div>\r\n        <div class="button button-clear" ng-click="bookscan.closebookScanModal()" >\r\n          <span class="icon ion-close"></span>\r\n        </div>\r\n        </div>\r\n    </ion-header-bar>\r\n    <ion-content>\r\n        <a ng-click="bookscan.scanMyBookNow()" class="text-center">\r\n            <h4>Please touch to rescan</h4>\r\n            <img src="img/barcodescanner.png" style="display:block;margin-left:auto;margin-right:auto"/>\r\n        </a>\r\n\r\n        <div class="card">\r\n            <div class="item item-text-wrap">\r\n                {{bookscan.scanResults.text}}\r\n            </div>\r\n            <bookitem book-info="bookscan.bookInfo" ng-if="bookscan.bookInfo"></bookitem>\r\n        </div>\r\n    </ion-content>\r\n    <ion-footer-bar class="bar-balanced" align-title="center">\r\n        <div class="title" ng-click="setBookInfo(bookscan.bookInfo);bookscan.closebookScanModal()">Ok</div>\r\n    </ion-footer-bar>\r\n</ion-modal-view>\r\n'),n.put("views/modal/booksearch.html",'<ion-modal-view ng-controller="appBookSearch as bookSearch" class="full-size">\r\n    <ion-header-bar class="bar-balanced">\r\n        <h1 class="title">Search your book</h1>\r\n        <div class="buttons">\r\n        <div class="button button-clear" ng-click="setBookInfo(bookSearch.bookInfo);bookSearch.closebookSearchModal()">\r\n          <a style="padding:0 10px;"\r\n             class="icon ion-checkmark-round stable"></a>\r\n        </div>\r\n        <div class="button button-clear"  ng-click="bookSearch.closebookSearchModal()" >\r\n\r\n          <span class="icon ion-close"></span>\r\n\r\n        </div>\r\n        </div>\r\n    </ion-header-bar>\r\n    <ion-content>\r\n\r\n            <div class="item item-input">\r\n                <i class="icon ion-search placeholder-icon"></i>\r\n                <input type="search" placeholder="Search your book by title"\r\n                       ng-model="bookSearch.query"\r\n                       required\r\n                       ng-change="bookSearch.getBookTitles()">\r\n                <button ng-click="bookSearch.clearSearch()"\r\n                        class="button ion-close-circled\r\n                        input-button button-clear" style="color:red" ng-show="bookSearch.query.length">\r\n                </button>\r\n            </div>\r\n            <div class="list" ng-show="bookSearch.searchResultTitles.length>0">\r\n                <li class="item  item-thumbnail-left" ng-repeat="title in bookSearch.searchResultTitles"\r\n                    ng-click="bookSearch.setBookTitleAndSearch(title)"><img ng-src="{{title.thumbnail}}" height="35" />\r\n                  {{title.title}} <br>By <span style="font-size:small">{{title.authors}}</span> </li>\r\n            </div>\r\n            <div class="card" ng-show="bookSearch.bookInfo != null">\r\n                <bookitem book-info="bookSearch.bookInfo"></bookitem>\r\n            </div>\r\n\r\n        </ion-content>\r\n    <ion-footer-bar class="bar-balanced" align-title="center">\r\n        <div class="title" ng-click="setBookInfo(bookSearch.bookInfo);bookSearch.closebookSearchModal()">Ok</div>\r\n   </ion-footer-bar>\r\n</ion-modal-view>\r\n'),n.put("views/modal/stopwatch.html",'<ion-modal-view class="full-size" ng-controller="appStopWatch as stopWatch">\r\n    <ion-header-bar class="bar-balanced">\r\n        <h1 class="title">Stop Watch</h1>\r\n        <div class="buttons">\r\n          <div class="button button-clear" ng-click="stopWatch.setTimeInfo();stopWatch.closeStopWatchModal()">\r\n            <span style="padding:0 10px;"\r\n               class="icon ion-checkmark-round stable"></span>\r\n          </div>\r\n          <div class="button button-clear" ng-click="stopWatch.closeStopWatchModal()" >\r\n            <span  class="icon ion-close"></span>\r\n          </div>\r\n          </div>\r\n        </div>\r\n    </ion-header-bar>\r\n    <ion-content>\r\n        <div class="card padding">\r\n\r\n            <div class="row padding">\r\n                <div class="col center">\r\n                    <h1 class="stop-watch">\r\n                        <basictimer interval="1000" autostart="false">\r\n                        {{hhours}} : {{mminutes}} : {{sseconds}}\r\n                        </basictimer>\r\n                    </h1>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="row">\r\n                <div class="col center">\r\n                    <a class="button button-icon icon ion-trash-b" ng-click="stopWatch.resetTimer()"></a>\r\n                </div>\r\n                <div class="col center">\r\n                    <a class="button icon ion-play button-assertive" ng-click="stopWatch.startTimer()" ng-show="!timerRunning || $scope.timerPaused"></a>\r\n                    <a class="button icon ion-pause button-assertive" ng-click="stopWatch.stopTimer()" ng-show="timerRunning"></a>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </ion-content>\r\n    <ion-footer-bar class="bar-balanced" align-title="center">\r\n        <div class="title" ng-click="stopWatch.setTimeInfo();stopWatch.closeStopWatchModal()">Ok</div>\r\n    </ion-footer-bar>\r\n</ion-modal-view>\r\n'),n.put("views/modal/timeform.html",'<ion-modal-view class="full-size" ng-controller="appTimeForm as timeForm">\r\n    <ion-header-bar class="bar-balanced">\r\n        <h1 class="title">Log my time in reading</h1>\r\n        <div class="buttons">\r\n          <div class="button button-clear" ng-click="timeForm.setTimeInfo();timeForm.closeTimeFormModal()">\r\n            <span style="padding:0 10px;"\r\n               class="icon ion-checkmark-round stable">\r\n            </span>\r\n            </div>\r\n            <div class="button button-clear"  ng-click="timeForm.closeTimeFormModal()" >\r\n              <span class="icon ion-close"></span>\r\n            </div>\r\n        </div>\r\n    </ion-header-bar>\r\n    <ion-content>\r\n\r\n            <div class="row">\r\n                <ionic-datepicker idate="currentDate"\r\n                                  disablepreviousdates="false"\r\n                                  disablefuturedates="true"\r\n                                  callback="timeForm.datePickerCallback"\r\n                                  title="title">\r\n                    <button class="button button-block button-positive"> {{ currentDate | date:\'dd - MMMM - yyyy\' }} </button>\r\n                </ionic-datepicker>\r\n            </div>\r\n            <div class="row">\r\n                <label class="item item-input full-size">\r\n                    <input type="number" required placeholder="Reading minutes"\r\n                           ng-model="timeForm.minutes">\r\n                </label>\r\n            </div>\r\n    </ion-content>\r\n    <ion-footer-bar class="bar-balanced" align-title="center">\r\n        <div class="title" ng-click="timeForm.setTimeInfo();timeForm.closeTimeFormModal()">Ok</div>\r\n    </ion-footer-bar>\r\n</ion-modal-view>\r\n'),n.put("views/modal/timer.html",'<ion-modal-view class="full-size" ng-controller="appTimer as timer">\r\n    <ion-header-bar class="bar-balanced">\r\n        <h1 class="title">Timer</h1>\r\n        <div class="buttons">\r\n        <div class="button button-clear" ng-click="timer.setTimerInfo();timer.closeTimerModal()">\r\n          <span style="padding:0 10px;"\r\n             class="icon ion-checkmark-round stable"></span>\r\n        </div>\r\n        <div class="button button-clear"  ng-click="timer.closeTimerModal()" >\r\n          <span class="icon ion-close"></span>\r\n        </div>\r\n        </div>\r\n        </div>\r\n    </ion-header-bar>\r\n      <ion-content>\r\n          <div class="bar bar-header item-input-inset">\r\n              <label class="item-input-wrapper">\r\n                  <input type="number" placeholder="Minutes I plan to read"\r\n                         ng-model="timer.minutes"\r\n                         ng-change="timer.setDuration()" min="0"\r\n                         auto-start="false"\r\n                         max="60">\r\n              </label>\r\n          </div>\r\n\r\n          <div class="card">\r\n              <div class="row padding" ng-click="timer.toggleTimer()">\r\n                  <ion-timer duration="timer.duration" opts="timer.ionTimerOpts" class="basic-timer"></ion-timer>\r\n              </div>\r\n\r\n              <div class="row">\r\n                  <div class="col center">\r\n                      <a class="button button-icon icon ion-trash-b" ng-click="timer.stopTimer()"></a>\r\n                  </div>\r\n                  <div class="col center">\r\n                      <a class="button icon ion-play button-assertive" ng-click="timer.toggleTimer()" ng-show="timer.ionTimerOpts.controls.status() == \'PAUSED\' || timer.ionTimerOpts.controls.status() == \'STOPPED\'"></a>\r\n                      <a class="button icon ion-pause button-assertive" ng-click="timer.toggleTimer()" ng-show="timer.ionTimerOpts.controls.status() == \'STARTED\'"></a>\r\n                  </div>\r\n\r\n              </div>\r\n          </div>\r\n          </ion-content>\r\n          <ion-footer-bar class="bar-balanced"  align-title="center">\r\n              <div class="title" ng-click="timer.setTimerInfo();timer.closeTimerModal()">Ok</div>\r\n          </ion-footer-bar>\r\n</ion-modal-view>\r\n'),n.put("views/modal/treasuresticky.html",'<div class="modal image-modal transparent" ng-click="closeCurrentTreasureStickyModal()">\r\n  <ion-pane class="transparent">\r\n    <div>\r\n      <ul>\r\n        <li ng-repeat="award in treasure.awards">\r\n          <a href="#">\r\n            <h2>{{award.description.name}}</h2>\r\n            <p>{{award.description.description}}</p>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n      <div style="text-align: center"><i class="icon ion-thumbsup" style="font-size: 60px"></i></div>\r\n    </div>\r\n  </ion-pane>\r\n</div>\r\n')}]);
!function(){"use strict";angular.module("app.basictimer",[]).directive("basictimer",["$compile",function(t){return{restrict:"EA",replace:!1,scope:{interval:"=interval",startTimeAttr:"=startTime",endTimeAttr:"=endTime",countdownattr:"=countdown",autoStart:"&autoStart",maxTimeUnit:"=",seconds:"=?",minutes:"=?",hours:"=?"},controller:["$scope","$element","$attrs","$timeout",function(n,e,i,o){function s(){n.timeoutId&&clearTimeout(n.timeoutId)}function r(){void 0!==i.startTime&&(n.millis=moment().diff(moment(n.startTimeAttr))),n.maxTimeUnit&&"day"!==n.maxTimeUnit?"second"===n.maxTimeUnit?(n.seconds=Math.floor(n.millis/1e3),n.minutes=0,n.hours=0,n.days=0,n.months=0,n.years=0):"minute"===n.maxTimeUnit?(n.seconds=Math.floor(n.millis/1e3%60),n.minutes=Math.floor(n.millis/6e4),n.hours=0,n.days=0,n.months=0,n.years=0):"hour"===n.maxTimeUnit&&(n.seconds=Math.floor(n.millis/1e3%60),n.minutes=Math.floor(n.millis/6e4%60),n.hours=Math.floor(n.millis/36e5),n.days=0,n.months=0,n.years=0):(n.seconds=Math.floor(n.millis/1e3%60),n.minutes=Math.floor(n.millis/6e4%60),n.hours=Math.floor(n.millis/36e5%24),n.days=Math.floor(n.millis/36e5/24),n.months=0,n.years=0),n.hours=n.hours?n.hours:0,n.minutes=n.minutes?n.minutes:0,n.sseconds=n.sseconds?n.sseconds:0,n.sseconds=n.seconds<10?"0"+n.seconds:n.seconds,n.mminutes=n.minutes<10?"0"+n.minutes:n.minutes,n.hhours=n.hours<10?"0"+n.hours:n.hours,n.ddays=n.days<10?"0"+n.days:n.days,n.mmonths=n.months<10?"0"+n.months:n.months,n.yyears=n.years<10?"0"+n.years:n.years}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),n.autoStart=i.autoStart||i.autostart,n.fallback=n.fallback||"en",0===e.html().trim().length?e.append(t("<span>"+$interpolate.startSymbol()+"millis"+$interpolate.endSymbol()+"</span>")(n)):e.append(t(e.contents())(n)),n.startTime=null,n.endTime=null,n.timeoutId=null,n.countdown=angular.isNumber(n.countdownattr)&&parseInt(n.countdownattr,10)>=0?parseInt(n.countdownattr,10):void 0,n.isRunning=!1,n.$on("timer-start",function(){n.start()}),n.$on("timer-resume",function(){n.resume()}),n.$on("timer-stop",function(){n.stop()}),n.$on("timer-clear",function(){n.clear()}),n.$on("timer-reset",function(){n.reset()}),n.$on("timer-set-countdown",function(t,e){n.countdown=e}),n.$watch("startTimeAttr",function(t,e){t!==e&&n.isRunning&&n.start()}),n.$watch("endTimeAttr",function(t,e){t!==e&&n.isRunning&&n.start()}),n.start=e[0].start=function(){n.startTime=n.startTimeAttr?moment(n.startTimeAttr):moment(),console.log(n.startTime),n.endTime=n.endTimeAttr?moment(n.endTimeAttr):null,angular.isNumber(n.countdown)||(n.countdown=angular.isNumber(n.countdownattr)&&parseInt(n.countdownattr,10)>0?parseInt(n.countdownattr,10):void 0),s(),m(),n.isRunning=!0},n.resume=e[0].resume=function(){s(),n.countdownattr&&(n.countdown+=1),n.startTime=moment().diff(moment(n.stoppedTime).diff(moment(n.startTime))),m(),n.isRunning=!0},n.stop=n.pause=e[0].stop=e[0].pause=function(){var t=n.timeoutId;n.clear(),n.$emit("timer-stopped",{timeoutId:t,millis:n.millis,seconds:n.seconds,minutes:n.minutes,hours:n.hours,days:n.days})},n.clear=e[0].clear=function(){n.stoppedTime=moment(),s(),n.timeoutId=null,n.isRunning=!1},n.reset=e[0].reset=function(){n.startTime=n.startTimeAttr?moment(n.startTimeAttr):moment(),n.endTime=n.endTimeAttr?moment(n.endTimeAttr):null,n.countdown=angular.isNumber(n.countdownattr)&&parseInt(n.countdownattr,10)>0?parseInt(n.countdownattr,10):void 0,s(),m(),n.isRunning=!1,n.clear()},e.bind("$destroy",function(){s(),n.isRunning=!1}),n.countdownattr?(n.millis=1e3*n.countdownattr,n.addCDSeconds=e[0].addCDSeconds=function(t){n.countdown+=t,n.$digest(),n.isRunning||n.start()},n.$on("timer-add-cd-seconds",function(t,e){o(function(){n.addCDSeconds(e)})}),n.$on("timer-set-countdown-seconds",function(t,e){n.isRunning||n.clear(),n.countdown=e,n.millis=1e3*e,r()})):n.millis=0,r();var m=function a(){var t=null;n.millis=moment().diff(n.startTime);var e=n.millis%1e3;return n.endTimeAttr&&(t=n.endTimeAttr,n.millis=moment(n.endTime).diff(moment()),e=n.interval-n.millis%1e3),n.countdownattr&&(t=n.countdownattr,n.millis=1e3*n.countdown),n.millis<0?(n.stop(),n.millis=0,r(),void(n.finishCallback&&n.$eval(n.finishCallback))):(r(),n.timeoutId=setTimeout(function(){a(),n.$digest()},n.interval-e),n.$emit("timer-tick",{timeoutId:n.timeoutId,millis:n.millis}),void(n.countdown>0?n.countdown--:n.countdown<=0&&(n.stop(),n.finishCallback&&n.$eval(n.finishCallback))))};(void 0===n.autoStart||n.autoStart===!0)&&n.start()}]}}])}();
!function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{bookInfo:"="},templateUrl:"views/directives/bookitem.html"}}angular.module("app.bookitem",[]).directive("bookitem",e)}();
!function(){"use strict";angular.module("app.directives",["app.bookitem","app.basictimer","ionic-datepicker","app.print"])}();
!function(){"use strict";function n(n){function t(n,t,o){t.on("click",function(){var n=document.getElementById(o.printElementId);n&&e(n)}),window.onafterprint=function(){i.innerHTML=""}}function e(n){var t=n.cloneNode(!0);i.appendChild(t),window.print()}var i=document.getElementById("printSection");return i||(i=document.createElement("div"),i.id="printSection",document.body.appendChild(i)),{link:t,restrict:"A"}}angular.module("app.print",[]).directive("ngPrint",n),n.$inject=["$ionicPopup"]}();
!function(){"use strict";function e(e,n,t){var o=this,r=t.constants.GoogleApiSearchType,s="AIzaSyCwyh4Zj1QuxhBsR3LfZHnrzI1p2gnkxdI",a=function(e,n){var t="";switch(e){case r.isbn:t=i+"?key="+s+"&q=isbn:"+n;break;case r.title:t=i+"?key="+s+"&printType=books&langRestrict=en&q="+n}return t},l=function(i){var t=n.defer();return e.get(i).then(function(e){t.resolve(e.data)}),t.promise};o.searchTitleOnly=function(e,i){var n=a(r.title,e);return n+="&maxResults="+(i||10)+"&fields=items(volumeInfo)",l(n)},o.search=function(i,t){var o=n.defer(),r=a(i,t);return r+="&maxResults=1&fields=items%2FvolumeInfo&orderBy=relevance",e.get(r).then(function(e){o.resolve(e.data)}),o.promise},o.getBookInfo=function(e){var i=e.volumeInfo,n={title:i.title,link:i.infoLink,smThumbnail:i.imageLinks&&i.imageLinks.smallThumbnail?i.imageLinks.smallThumbnail:"img/image-missing-md.png",description:i.description&&i.description.length>500?i.description.substring(0,500)+"...":i.description,previewLink:i.previewLink,authors:i.authors};return n}}var i="https://www.googleapis.com/books/v1/volumes";angular.module("app.GoogleApiService",[]).service("GoogleApiService",e),e.$inject=["$http","$q","appGlobalConfigService"]}();
!function(){"use strict";function e(){function e(e){return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear().toString().substring(2,4)}function t(t,a,n){switch(t){case 0:return"This "+n;case 1:return"Last "+n;default:return("week"==n?"Week":"Month")+" Of "+e(a)}}function a(e){var t=new Date,a=t.getDay(),n=r(e);return n.length>1?0===a?n[0]:n[1]:null}function n(){var e=new Date;return{name:"Past 7 Days",startDate:e.addDays(-6),endDate:e}}function r(e){var a,n=new Date,r=n.getDay(),D=new Date((new Date).setDate(n.getDate()-r)),s=[];for(a=0;u>a;a++){var i=D.getTime(),g=new Date(new Date(i).setDate(D.getDate()-7*a)),o=new Date(new Date(g.getTime()).setDate(g.getDate()+6)),w=e>=g;if(s.push({name:t(a,g,"week"),startDate:w?e:g,endDate:o>n?n:o}),w)break}return s}function D(e){var a,n=new Date,r=n.getMonth(),D=n.getFullYear(),s=[];for(a=0;i>a;a++){var u=new Date(D,r,1,0,0,0),g=new Date(u.setMonth(r-a)),o=new Date(new Date(g.getTime()).setMonth(g.getMonth()+1)-1),w=e>=g;if(s.push({name:t(a,g,"month"),startDate:w?e:g,endDate:o>n?n:o}),w)break}return s}var s=this,u=12,i=6;s.getLastSixMonths=D,s.getLastTwelveWeeks=r,s.getLastWeekDates=a,s.getLastSevenDays=n}angular.module("app.dateTimeService",[]).service("appDateTimeService",e)}();
!function(){"use strict";function e(e,r){function t(t){var o=e.defer(),a=n(t);return r({url:i,method:"POST",data:a,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){o.resolve(e)}),o.promise}var i="http://rlmail.azurewebsites.net/api/email";return{sendEmail:t}}function n(e){var n=[];for(var r in e)n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.join("&")}angular.module("app.emailService",[]).service("appEmailService",e),e.$inject=["$q","$http"]}();
!function(){"use strict";function e(e,n,t){function o(r){var n=e.defer();return l.authWithOAuthPopup(r,function(e,r){e&&n.reject(e),r&&n.resolve(r)}),n.promise}function i(e,r){l.authWithPassword(e,r)}function s(){var r=e.defer();return l.authAnonymously(function(e,n){n?r.resolve(n):e&&r.reject(e)},{remember:"sessionOnly"}),r.promise}function u(r){var n=e.defer();return l.createUser(r,function(e){e?n.reject(e):n.resolve()}),n.promise}function c(e){return u(e).then(function(){return i(e)})}function a(r){var n=e.defer();return l.resetPassword(r,function(e){null===e?n.resolve("Password reset email sent successfully"):n.reject(e)}),n.promise}var f=this,l=new Firebase(r);f.logIn=i,f.signUpAndLogin=c,f.signOut=function(){l.unauth(),f.clearCache()},f.clearCache=function(){t(function(){n.clearCache(),n.clearHistory(),n.nextViewOptions({disableBack:!0,historyRoot:!0})},30)},f.resetPassword=a,f.googleLogin=function(){return o("google")},f.authAnonymously=s}var r="https://fiery-torch-1756.firebaseio.com";angular.module("app.fireBaseAuthService",[]).service("appFireBaseAuthService",e),e.$inject=["$q","$ionicHistory","$timeout"]}();
!function(){"use strict";function e(e){function t(){var r,t,o,i=e.defer(),n=[];return(r=a.getAuth())?(t=d.child(r.uid),t.once("value",function(e){return e.exists()?(e.forEach(function(e){o=angular.extend(e.val(),{key:e.key()}),o.$$hashKey&&delete o.$$hashKey,n.push(o)}),i.resolve(n),i.promise):(i.resolve(n),i.promise)},function(){return i.resolve(n),i.promise}),i.promise):(i.reject([]),i.promise)}function o(e,r){if(u=a.getAuth(),!u)return void r("error: user not set");var t=d.child(u.uid);t.push(e,r)}function i(e,r){if(u=a.getAuth(),!u)return void r("error: user not set");var t=d.child(u.uid),o=t.child(e.key),i={authors:e.authors,dateRead:e.dateRead,description:e.description,genre:e.genre,notes:e.notes,rating:e.rating,readingSel:e.readingSel,smThumbnail:e.smThumbnail,timeRead:e.timeRead,title:e.title};o.update(i,r)}function n(e,r){if(u=a.getAuth(),!u)return void r("error: user not set");var t=d.child(u.uid),o=t.child(e.key);o.remove(r)}var u,s=this,a=new Firebase(r),d=new Firebase(r+"booklogs"),c={};s.setCurrentBookEdit=function(e){c=e},s.getCurrentBookEdit=function(){return c},s.getBookDescription=function(e){return e&&e.length>500?e.substring(0,500)+"...":e},s.getBookAuthors=function(e){return e&&Array.isArray(e)?e.join(","):e},s.getBookLogsByUser=t,s.addBookLog=o,s.editBookLog=i,s.removeBookLog=n}var r="https://fiery-torch-1756.firebaseio.com/";angular.module("app.fireBaseBookService",[]).service("appFireBaseBookService",e),e.$inject=["$q"]}();
!function(){"use strict";function e(e){function n(){var r=[],n=e.defer();return i.once("value",function(e){return e.exists()?(e.forEach(function(e){r.push(angular.extend(e.val(),{key:e.key()}))}),n.resolve(r),n.promise):(n.resolve(r),n.promise)},function(){return n.resolve(r),n.promise}),n.promise}var o=new Firebase(r),i=o.child("recommendations");return{getAllRecommendations:n}}var r="https://fiery-torch-1756.firebaseio.com/";angular.module("app.recommendationService",[]).service("appRecommendationService",e),e.$inject=["$q"]}();
!function(){"use strict";angular.module("app.services",["app.fireBaseBookService","app.GoogleApiService","app.fireBaseAuthService","app.userService","app.dateTimeService","app.emailService","app.recommendationService"])}();
!function(){"use strict";function e(e,t,n){function i(r){if(!r||!r.email)throw"email should be supplied when update user info";var t=e.defer(),i=r.email,a=c.getAuth(),o=s(i);if(a){var u=c.child("students").child(o);u.update(r,function(){n.alert({title:"Great",template:"Thanks! You are fantastic"}),t.resolve()})}else t.reject("Ah, this user does not seem to exist");return t.promise}function a(e){return e.auth&&e.auth.provider&&"anonymous"===e.auth.provider}function s(e){var r=e.indexOf("@"),t=e.substr(0,r).replace(".","_");return t}function o(t){if(!t)throw"email empty "+t+" or callback function invalid";var n=e.defer(),i=s(t),a=new Firebase(r+"/students"),o=a.child(i);return o.once("value",function(e){if(!e.exists())return n.reject("user not found"),n.promise;var r=e.val();return n.resolve(r),n.promise}),n.promise}var u=this,c=new Firebase(r);u.setDefaultAvartar=function(e){e&&e.avartar&&e.avartar.indexOf("data")>=0&&(e.avartar="icon.png")},u.getUserInfo=o,u.saveUserInfo=function(e){return i(e)},u.storeCurentUserToLocal=function(e){e&&!e.displayName&&(e.displayName=e.username),this.currentUser=t.currentUser=e},u.storeUserListToLocal=function(e){this.readingLogUserList=t.readingLogUserList=e},u.isUserAuthenticated=function(){var e=c.getAuth();return null!==e},u.getAuth=function(){return c.getAuth()},u.isInAnonymousMode=a,u.currentUser=t.currentUser,u.readingLogUserList=t.readingLogUserList}var r="https://fiery-torch-1756.firebaseio.com";angular.module("app.userService",[]).service("appUserService",e),e.$inject=["$q","$localStorage","$ionicPopup"]}();
!function(){"use strict";function e(e,o,s,n,r,c,t){function a(e,o){null===e&&o&&o.uid?u(o):(console.log(e),f(e))}function u(e){r.clearCache(),g.addExistingUser?c.getUserInfo(g.email).then(i,f):(c.storeCurentUserToLocal(g.accountToSwitch),o.$broadcast("user-changed",g.accountToSwitch),n.go("app.booklogform"))}function i(e){if(!e)throw"user authenticated, however could not find the corresponding user info";e.accesscode||(e.accesscode=g.accesscode),c.storeCurentUserToLocal(e),d(e),o.$broadcast("user-changed",e),n.go("app.booklogform")}function d(e){l(e,g.userList),c.storeUserListToLocal(g.userList),g.username="",g.accesscode="",g.showAdd=!1}function l(e,o){var s,n=[],r=g.userList.length;for(s=0;r>s;s++)n.push(o[s].username.toLowerCase());n.indexOf(e.username.toLocaleLowerCase())<0&&o.push(e)}function f(e){s.alert({title:"Sorry",template:"The account information provided is not valid"})}var g=this,m="readingLogUserList",h=t[m],p=c.currentUser;h||(h=[],t[m]=h),g.userList=h,g.showAdd=!1,p?g.currentUserName=p.username:g.useranonymous=!0,g.showAddAccount=function(){g.showAdd=!g.showAdd},g.removeAccount=function(e){var o,s,n=g.userList,r=g.userList.length;for(o=0;r>o;o++)if(n[o].username===e.username){s=o;break}n.splice(s,1),g.userList=n,t[m]=n},g.goAnonymous=function(){r.signOut(),c.storeCurentUserToLocal(null);var e=r.authAnonymously();e.then(function(){o.$broadcast("user-changed",null),n.go("app.booklogform")},f)},g.doLogin=function(){g.addExistingUser=!0;var e=g.username.indexOf("@")>=0?g.username:g.username.toLowerCase()+"@readinglog.com";g.email=e,r.logIn({email:e,password:g.accesscode},a)},g.switchAccount=function(e){if(e.username!==g.currentUserName){g.addExistingUser=!1,g.accountToSwitch=e;r.logIn({email:e.email,password:e.accesscode},a)}}}angular.module("app.accounts",[]).controller("appAccount",e),e.$inject=["$scope","$rootScope","$ionicPopup","$state","appFireBaseAuthService","appUserService","$localStorage"]}();
!function(){"use strict";function e(e,t){var i,n=this,o=t.genres,h=o.length,s=[],l=[],r=window.innerWidth,c=r>=760?3:2,p=r>1200?(r-400)/c-20:r/c-20;for(n.genres=o,i=0;h>i;i++)l.push(o[i]),l.length===c&&(s.push({cols:l}),l=[]);l.length&&s.push({cols:l}),n.rows=s,n.width=p.toFixed(0)+"px",n.style={width:n.width,height:n.height},n.cols="col-"+Math.floor(100/c)+"%"}angular.module("app.viewGenres",[]).controller("appViewGenres",e),e.$inject=["$scope","appGlobalConfigService"]}();
!function(){"use strict";angular.module("app.modules",["app.recommendations","app.stats","app.sidemenu","app.settings","app.readnow","app.viewall","app.modals","app.treasure","app.directives","app.viewGenres","app.weeklylog","app.accounts"])}();
!function(){"use strict";function o(o,t,n,r,s,l,d,c,m){var h=this,u=s.constants.ModalTypes,g=m.currentUser;if(h.isMobileApp=window.isMobileApp,h.isEditing=d.edit,h.readingHow=1,h.genre="NF",h.notes="",a(o,t,s),g||(h.useranonymous=!0),h.showModal=function(e){i(o,e,u)},h.bookCategories=s.genres,h.readWays=s.readWays,h.modalTypes=u,h.ratingsObject={iconOn:"ion-ios-star",iconOff:"ion-ios-star-outline",iconOnColor:"rgb(200, 200, 100)",iconOffColor:"rgb(200, 100, 100)",rating:0,minRating:1,callback:function(o){h.rating=o}},"true"===h.isEditing){var b=r.getCurrentBookEdit();h.readingTimeStats={timeRead:b.timeRead,date:b.dateRead},h.book={title:b.title,authors:b.authors,smThumbnail:b.smThumbnail,description:b.description},h.authorStr=r.getBookAuthors(b.authors),h.genre=b.genre||"NF",h.rating=b.rating||1,h.readingHow=b.readingSel||1,h.ratingsObject.rating=h.rating,h.notes=b.notes||""}else h.readingTimeStats={timeRead:0,date:(new Date).toDateString()};o.setBookInfo=function(o,e,t){o=o||{title:e,authors:t},h.book=o,h.authorStr=r.getBookAuthors(o.authors)},o.setReadingTimeInfo=function(o,e,t){var a=e||0;h.readingTimeStats={timeRead:60*a+o,date:t?t.toDateString():(new Date).toDateString()}},h.onSubmit=function(){var o;if(null!==h.book&&h.book&&h.book.title&&h.book.title.length>0&&null!==h.readingTimeStats&&h.readingTimeStats.timeRead>0&&(o={title:h.book.title,authors:h.book.authors||"",smThumbnail:h.book.smThumbnail||"img/image-missing-md.png",description:r.getBookDescription(h.book.description)||"",dateRead:h.readingTimeStats.date||new Date,timeRead:h.readingTimeStats.timeRead||0,genre:h.genre||"NF",rating:h.rating||1,readingSel:h.readingHow||1,notes:h.notes}),!o){var t=n.alert({title:"Please set the book title and minutes you have read",template:"You probably forgot?"});return t.then(function(o){}),!1}if(h.isEditing){var a=angular.extend(b,o);"undefined"==typeof a.authorStr&&(a.authorStr=""),r.editBookLog(a,function(o){return o?void 0:(c.clearCache(),e(n,l))})}else r.addBookLog(o,function(o){return o?void 0:(c.clearCache(),e(n,l))})}}function e(o,e){var t=o.alert({title:"Woo-hoo",template:"Thanks! We have logged your book"});t.then(function(o){e.go("app.viewall")})}function t(o,e){return{scope:o,backdropClickToClose:!0,animation:"slide-in-up",id:e}}function a(o,e,a){var i=a.constants.ModalTypes;e.fromTemplateUrl("views/modal/stopwatch.html",t(o,i.stopwatch)).then(function(e){o.stopWatchModal=e}),e.fromTemplateUrl("views/modal/timer.html",t(o,i.timer)).then(function(e){o.timerModal=e}),e.fromTemplateUrl("views/modal/timeform.html",t(o,i.timeform)).then(function(e){o.timeFormModal=e}),e.fromTemplateUrl("views/modal/bookscan.html",t(o,i.scan)).then(function(e){o.bookScanModal=e}),e.fromTemplateUrl("views/modal/booksearch.html",t(o,i.search)).then(function(e){o.bookSearchModal=e}),e.fromTemplateUrl("views/modal/bookentry.html",t(o,i.bookform)).then(function(e){o.bookEntryModal=e}),o.$on("$destroy",function(){o.stopWatchModal.remove(),o.timerModal.remove(),o.timeFormModal.remove(),o.bookScanModal.remove(),o.bookSearchModal.remove(),o.bookEntryModal.remove()}),o.$on("modal.shown",function(e,t){switch(t.id){case i.scan:o.$broadcast("scan-modal-shown");break;case i.stopwatch:o.$broadcast("stopwatch-shown");break;case i.timer:o.$broadcast("timer-shown")}})}function i(o,e,t){switch(e){case t.timer:o.timerModal.show();break;case t.stopwatch:o.stopWatchModal.show();break;case t.timeform:o.timeFormModal.show();break;case t.scan:o.bookScanModal.show();break;case t.search:o.bookSearchModal.show();break;case t.bookform:o.bookEntryModal.show()}}angular.module("app.readnow",[]).controller("appReadNow",o),o.$inject=["$scope","$ionicModal","$ionicPopup","appFireBaseBookService","appGlobalConfigService","$state","$stateParams","$ionicHistory","appUserService"]}();
!function(){"use strict";function o(o,n,e,t){function i(){e.getAllRecommendations().then(c)}function r(n){o.currentBookRecommendation=n,o.openCurrentBookRecommendationModal()}function c(o){var n,e,t=[],i=window.innerWidth,r=i>=760?3:2,c=Math.min(i/r-40,180);if(0!==o.length){for(n=0;n<l.length;n++)e=m(l[n].value,o),t.push({genreName:l[n].name,rows:a(e,r)});d.booksInGenre=t,d.width=c.toFixed(0)+"px",d.style={width:d.width,height:d.height},d.cols="col-"+Math.floor(100/r)+"%"}}function a(o,n){var e,t=o.length,i=[],r=[];for(e=0;t>e;e++)i.push(o[e]),i.length===n&&(r.push({cols:i}),i=[]);return i.length&&r.push({cols:i}),r}function m(o,n){var e=n.filter(function(n){return n.genre===o});return e}var d=this,l=n.genres;t.fromTemplateUrl("views/modal/bookrecommendation.html",{scope:o,animation:"slide-in-up"}).then(function(n){o.currentBookRecommendationModal=n}),o.openCurrentBookRecommendationModal=function(){o.currentBookRecommendationModal.show()},o.closeCurrentBookRecommendationModal=function(){o.currentBookRecommendationModal.hide()},o.$on("$destroy",function(){o.currentBookRecommendationModal.remove()}),d.showBookRecommendation=r,d.getRecommendations=i,d.refresh=i,d.getRecommendations()}angular.module("app.recommendations",[]).controller("appRecommendations",o),o.$inject=["$scope","appGlobalConfigService","appRecommendationService","$ionicModal"]}();
!function(){"use strict";function n(n,a,i){var e=this,o=a.currentUser;o.displayName||(o.displayName=o.username),e.showPicker=!1,e.avartars=["animal-icon-cow.png","animal-icon-crab.png","animal-icon-dog.png","animal-icon-donkey.png","animal-icon-frog.png","animal-icon-gold-fish.png","animal-icon-horse.png","animal-icon-jellyfish.png","animal-icon-kitten-cat.png","animal-icon-mouse.png","animal-icon-octopus.png","animal-icon-puppy-dog.png","animal-icon-shark.png","animal-icon-squirrel.png","animal-icon-tuna-blue-fish.png"],e.setCurrentUserInfo=function(n){e.user=n},o||(e.useranonymous=!0),e.user=o,e.saveUserInfo=function(){var o={displayName:e.user.displayName,username:e.user.username,email:e.user.email,avartar:e.user.avartar||"icon.png"};a.saveUserInfo(o).then(function(){n.$broadcast("user-changed",e.user),i.go("app.booklogform")})},e.toggleImagePicker=function(){e.showPicker=!e.showPicker},e.setAvartar=function(n){e.user.avartar=n,e.showPicker=!1}}angular.module("app.settings",[]).controller("appSettings",n),n.$inject=["$rootScope","appUserService","$state"]}();
!function(){"use strict";function e(e,a){var r=this,s=a.currentUser;s&&(s.displayName||(s.displayName=s.username),a.setDefaultAvartar(s)),r.user=s,e.$on("user-changed",function(e,s){s.displayName||(s.displayName=s.username),a.setDefaultAvartar(s),r.user=s})}angular.module("app.sidemenu",[]).controller("appSideMenu",e),e.$inject=["$scope","appUserService"]}();
!function(){"use strict";function e(e,t,n,r,a,o){function u(e){return e.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[])}function s(e){var t,n=p.length,r=[];for(t=0;n>t;t++){var a=i(p[t],e);null!==a&&r.push(a)}return r}function i(e,t){var n=t.filter(function(t){return t.genre===e.value});if(n.length>0){var r=n.map(function(e){return e.timeRead}),a=r.reduce(function(e,t){return e+t});return{name:e.value,minutes:a}}return null}function l(e){var t,n,r,a,o=e.length,s=e.map(function(e){return new Date(e.dateRead)}),i=[];if(s=u(s),"weekly"===g.mode?a=g.weekselected:"monthly"===g.mode&&(a=g.monthselected),a){n=a.startDate,r=a.endDate,s=[n];for(var l=new Date(n.getTime());r>l;)s.push(new Date(l.setDate(l.getDate()+1)))}for(o=s.length,t=0;o>t;t++){var f=s[t],d=c(f,e);i.push(d)}return{dates:s,time:i}}function c(e,t){var n=0,r=t.filter(function(t){return new Date(t.dateRead).setHours(0,0,0,0)==e.setHours(0,0,0,0)});if(r&&r.length>0){var a=r.map(function(e){return e.timeRead});n=a.reduce(function(e,t){return e+t})}return n}function f(e){if(g.allBooksRead=e,!e||!e.length)return void h([]);var t=new Date(e[0].dateRead);d(t),h(e)}function d(e){g.weeks=r.getLastTwelveWeeks(e),g.months=r.getLastSixMonths(e),g.weeks.length>0&&(g.weekselected=g.weeks[0]),g.months.length>0&&(g.monthselected=g.months[0])}function h(e){if(0!==e.length){var t=e;g.books=t;var n=s(t),r=n.map(function(e){return e.name}),o=n.map(function(e){return e.minutes});g.chartGenreData={labels:r,data:[o]};var u=l(t),i=u.dates.map(function(e){return a("date")(e,"MM/dd")}),c=Math.floor(i.length/10),f=[];if(c>=1)for(var d=0;d<i.length;d++)d%c===0&&f.push(i[d]);else f=i;g.chartReadingData={labels:f,data:[u.time]}}}function m(e){throw e}var g=this,p=n.genres;o.currentUser;g.mode="weekly",e.$on("newbooklogged",function(e,t){g.allBooksRead=t,h(t)});t.getBookLogsByUser();t.getBookLogsByUser().then(f,m),g.setTimeMode=function(e){g.mode=e,g.rechart()},g.rechart=function(){var e,t,n,r,a,o=angular.copy(g.allBooksRead);e="weekly"===g.mode?g.weekselected:g.monthselected,e&&(t=e.startDate,n=e.endDate,r=o.filter(function(e){return a=e?new Date(e.dateRead).setHours(0,0,0,0):new Date,a>=t.setHours(0,0,0,0)&&a<=n.setHours(0,0,0,0)}),h(r))}}angular.module("app.stats",[]).controller("appStats",e),e.$inject=["$scope","appFireBaseBookService","appGlobalConfigService","appDateTimeService","$filter","appUserService"]}();
!function(){"use strict";function e(e,t,i,r){function s(e){var t,i,r,s,n,o=e,l=o.length,m=0,u=0,g=[],d=c.awards;for(t=0;l>t;t++)u+=o[t].timeRead,g.indexOf(o[t].genre)<0&&g.push(o[t].genre);m=Math.min(d.tickets.max,Math.floor(l/d.tickets.base)),i=Math.min(d.stickers.max,Math.floor(u/d.stickers.base)),r=g.length,l>d.coins.base&&(s=Math.floor(l/d.coins.base)),u>d.gems.base&&(n=Math.floor(u/d.gems.base)),c.totalLogs=l,c.toalMinutes=u,c.totalGenres=r,c.totalCoins=s,c.totalGems=n,c.stars=a(r,d.stars),c.stickers=a(i,d.stickers),c.tickets=a(m,d.tickets),c.coins=a(s,d.coins),c.gems=a(n,d.gems)}function a(e,t){var i,r=[];for(i=0;e>i;i++)r.push({img:n(i,t.available,t.img),index:i});return r}function n(e,t,i){var r=e%t+1;return i+r+".png"}function o(e){throw e.message}var c=this,l=(i.currentUser,{tickets:{available:6,max:20,base:5,img:"ticket",description:{name:"Ticket",description:"1 ticket = 5 log entries (20mx)"}},stickers:{available:4,max:10,base:60,img:"goodjob",description:{name:"Sticker",description:"1 sticker = 60 minutes of reading (10mx)"}},stars:{available:4,img:"genre",description:{name:"Star",description:"1 star = 1 genre"}},coins:{available:1,img:"coin",base:100,description:{name:"Coin",description:"1 coin = 100 log entries (wow!)"}},gems:{available:5,img:"gem",base:1200,description:{name:"Gem",description:"1 gem = 1200 minutes of reading (wow!)"}}});c.awards=l,c.showSticky=!0,t.getBookLogsByUser().then(s,o),r.fromTemplateUrl("views/modal/treasuresticky.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.currentTreasureStickyModal=t}),e.openCurrentTreasureStickyModal=function(){e.currentTreasureStickyModal.show()},e.closeCurrentTreasureStickyModal=function(){e.currentTreasureStickyModal.hide()},e.$on("$destroy",function(){e.currentTreasureStickyModal.remove()})}angular.module("app.treasure",[]).controller("appTreasure",e),e.$inject=["$scope","appFireBaseBookService","appUserService","$ionicModal"]}();
!function(){"use strict";function o(o,e,n,t,r,i,a,l){function c(){t.getBookLogsByUser().then(u,s)}function u(o){var e=o;if(B&&B.length){m.genreId=B;var n=h.filter(function(o){return f(o,m.genreId)});m.genreName=n&&n.length?n[0].name:"",e=o.filter(function(o){return o.genre===B})}angular.forEach(e,function(o){g(o)}),m.booklogs=e}function s(o){throw o.message}function g(o){if(o){var e=k.filter(function(e){return f(e,o.readingSel)}),n=h.filter(function(e){return f(e,o.genre)});o.authorStr=t.getBookAuthors(o.authors),o.timestamp=new Date(o.dateRead),o.readMannerName=e&&e.length?e[0].name:"Read By Myself",o.genreName=n&&n.length?n[0].name:"Non Fiction"}}function f(o,e){return o.value===e}function d(o){o||c()}var m=this,h=r.genres,k=r.readWays,B=n.genreId;o.$on("newbooklogged",function(o,e){m.allBooksRead=e;try{u(e)}catch(n){m.error=n.message}}),l.fromTemplateUrl("views/modal/booklogdetails.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.currentBookLogDetailsModal=e}),o.openCurrentBookLogDetailsModal=function(){o.currentBookLogDetailsModal.show()},o.closeCurrentBookLogDetailsModal=function(){o.currentBookLogDetailsModal.hide()},o.$on("$destroy",function(){o.currentBookLogDetailsModal.remove()}),m.showLogDetails=function(e){o.currentBookLog=e,o.openCurrentBookLogDetailsModal()},m.showFilterBar=function(){m.filterBarInstance=i.show({items:m.booklogs,update:function(o,e){m.booklogs=o}})},m.editLog=function(o){a.clearCache(),t.setCurrentBookEdit(o),e.go("app.booklogform",{edit:!0},{reload:!0})},m.removeLog=function(o){t.removeBookLog(o,d)},m.init=c,m.init()}angular.module("app.viewall",["jett.ionic.filter.bar"]).controller("appViewAll",o),o.$inject=["$scope","$state","$stateParams","appFireBaseBookService","appGlobalConfigService","$ionicFilterBar","$ionicHistory","$ionicModal"]}();
!function(){"use strict";function e(e,t,a,n,r,o,i,s){function l(e){e!==k.timeFrame&&u(e)}function u(e){var a,n,r,o=new Date,s=o.getDay();k.timeFrame=e,e===v.lastWeek&&k.earliestDate?(a=i.getLastWeekDates(k.earliestDate),a&&(n=0===s?a.startDate.addDays(-6):a.startDate.addDays(1),k.timeDescription="Week Of "+t("date")(n,S))):(r=i.getLastSevenDays(),n=r.startDate,k.timeDescription=t("date")(n,S)+" to "+t("date")(r.endDate,S)),d(n,k.books||[])}function d(e,a){var n,r,o,i=[],s=[],l=["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"],u=0;for(k.booklogs=a,n=0;7>n&&(r=e.addDays(n),!(r>=new Date));n++)o=r.getDay(),i=m(a,r),i.length&&(u+=p(i)),i=i.map(c),0===i.length&&i.push({title:"",nonStarsArr:5,starsArr:0}),s.push({name:l[o],date:t("date")(r,S),books:i});k.booksReadWeekly=s,k.totalminutes=u}function g(e){var t=e;if(t&&t.length){var a=new Date(e[0].dateRead);k.earliestDate=a,k.books=e,u(k.timeFrame)}}function m(e,t){return e.filter(function(e){return new Date(e.dateRead).setHours(0,0,0,0)===t.setHours(0,0,0,0)})}function p(e){var t,a=0,n=e?e.length:0;for(t=0;n>t;t++)a+=e[t].timeRead;return a}function c(e){var t=e.readingSel?y(k.readWays,e.readingSel):k.readWays;return e.howIRead=t?t.name:k.readWays[0].name,e.starsArr=new Array(e.rating),e.nonStarsArr=new Array(5-e.rating),e.authors=n.getBookAuthors(e.authors),e}function y(e,t){var a=e.filter(function(e){return f(e,t)});return a.length>0?a[0]:e[0]}function f(e,t){return e.value===t}function D(e){throw e.message}function h(e){e.alert({title:"Email sent",template:"It may take a minute or 2 reaching your inbox. Try not to let it run into your spam box :)"})}var k=this,v={lastSevenDays:"last7days",lastWeek:"lastWeek"},S="MM/dd/yy",W=o.currentUser;k.isMobileApp=!(window.location.origin.indexOf("http")>=0||window.location.origin.indexOf("https")>=0),k.genres=r.genres,k.readWays=r.readWays,k.timeFrame=v.lastSevenDays,W?(k.username=W.username,k.parentEmail=W.parentemail,n.getBookLogsByUser().then(g,D)):n.getBookLogsByUser().then(g,D),k.sendEmail=function(){if(k.parentEmail&&k.parentEmail.length){var e=document.getElementById("print-log").innerHTML;e=e.replace(/img/g,"http://readinglogapp.net/img"),s.sendEmail({MailTo:k.parentEmail,Subject:"Weekly Reading Report for "+k.username,Body:e}).then(function(){h(a)})}},k.getLogFor7Days=function(){l(v.lastSevenDays)},k.getLogForLastWeek=function(){l(v.lastWeek)}}angular.module("app.weeklylog",[]).controller("appWeeklyLog",e),e.$inject=["$scope","$filter","$ionicPopup","appFireBaseBookService","appGlobalConfigService","appUserService","appDateTimeService","appEmailService"]}();
!function(){"use strict";function o(o,e,n,g){function r(o){var n,r=o.facebook?o.facebook:o.google?o.google:null;return r?(o.facebook?n=g.saveFaceBookDataAndSetUser(o.facebook):o.google&&(n=g.saveGoogleDataAndSetUser(o.google)),i.loggingin=!1,e.go("app.booklogform"),!1):void(i.error="Sorry, something is wrong. We could not log you in successfully")}function t(o){i.error=o.toString()}var i=this;i.facebookSignIn=function(){if(g.isUserAuthenticated())return e.go("app.booklogform"),!1;i.loggingin=!0;var o=n.facebookLogin();o.then(r,t)},i.googleSignIn=function(){if(g.isUserAuthenticated())return e.go("app.booklogform"),!1;i.logging=!0;var o=n.googleLogin();o.then(r,t)}}angular.module("app.welcome",[]).controller("appWelcome",o),o.$inject=["$scope","$state","appFireBaseAuthService","appUserService"]}();
!function(){"use strict";function o(o){var t=this;t.closeBookEntryModal=function(){t.title="",t.authorname="",o.bookEntryModal.hide()}}angular.module("app.bookEntry",[]).controller("appBookEntry",o),o.$inject=["$scope"]}();
!function(){"use strict";function o(o){}angular.module("app.bookscan",["app.services"]).controller("appBookScan",o),o.$inject=["$scope"]}();
!function(){"use strict";function o(o,e,n,i){function l(){t.query="",t.bookInfo=null,t.searchResultTitles=[]}var t=this;e.constants.GoogleApiSearchType;t.query="",t.closebookSearchModal=function(){l(),t.bookInfo=null,o.bookSearchModal.hide()},t.clearSearch=function(){l()};var a=ionic.debounce(function(o){n.searchTitleOnly(o,10).then(function(o){var e=o.items;t.searchResultTitles=e.map(function(o){return{thumbnail:o.volumeInfo.imageLinks&&o.volumeInfo.imageLinks.smallThumbnail?o.volumeInfo.imageLinks.smallThumbnail:"img/missing.png",title:o.volumeInfo.title,authors:i.getBookAuthors(o.volumeInfo.authors),volumeInfo:o.volumeInfo}})})},500);t.getBookTitles=function(){a(t.query)},t.setBookTitleAndSearch=function(o){t.searchResultTitles=[],t.bookInfo=n.getBookInfo(o)}}angular.module("app.bookSearch",["app.services"]).controller("appBookSearch",o),o.$inject=["$scope","appGlobalConfigService","GoogleApiService","appFireBaseBookService"]}();
!function(){"use strict";angular.module("app.modals",["app.timeForm","app.timer","app.stopWatch","app.bookscan","app.bookSearch","app.bookEntry"])}();
!function(){"use strict";function t(t){var e=this;e.startTimer=function(){t.timerPaused?t.$broadcast("timer-resume"):t.$broadcast("timer-start"),t.timerRunning=!0},e.stopTimer=function(){t.$broadcast("timer-stop"),t.timerPaused=!0,t.timerRunning=!1},e.resetTimer=function(){t.$broadcast("timer-reset"),t.timerRunning=!1},t.$on("timer-stopped",function(t,o){e.timeInfo=o}),e.closeStopWatchModal=function(){e.stopTimer(),t.stopWatchModal.hide()},e.setTimeInfo=function(){e.stopTimer();var o=Math.ceil(e.timeInfo.seconds/60)+e.timeInfo.minutes;t.setReadingTimeInfo(o,e.timeInfo.hours),e.closeStopWatchModal()}}angular.module("app.stopWatch",[]).controller("appStopWatch",t),t.$inject=["$scope"]}();
!function(){"use strict";function e(e){var t=this;t.closeTimeFormModal=function(){e.timeFormModal.hide()},t.datePickerCallback=function(e){t.dateSelected=e},t.setTimeInfo=function(){var o=t.dateSelected?new Date(t.dateSelected):new Date;e.setReadingTimeInfo(t.minutes,0,o),t.closeTimeFormModal()}}angular.module("app.timeForm",[]).controller("appTimeForm",e),e.$inject=["$scope"]}();
!function(){"use strict";function o(o){var t=this,e=20;t.closeTimerModal=function(){o.timerModal.hide()},t.minutes=20,t.duration=60*(t.minutes||e),t.setDuration=function(){t.duration=60*(t.minutes||e)};var i=function(){t.ionTimerOpts.progressCircle.strokeColor="#3BCC3B",t.ionTimerOpts.text={color:"#3BCC3B"}};t.ionTimerOpts={autoStart:!1,text:{color:"#45ccce",size:"20px"},progressCircle:{backgroundColor:"#eaeaea",rounded:!0,clockwise:!1},events:{onComplete:i,onStart:function(){},onPause:function(o){t.timeRead=Math.ceil(o/60)},onStop:function(o){}}},t.toggleTimer=function(){var o=t.ionTimerOpts.controls.status();"STARTED"===o?t.ionTimerOpts.controls.pause():t.ionTimerOpts.controls.start()},t.stopTimer=function(){t.duration=60*(t.minutes||e),t.ionTimerOpts.controls.stop(),t.ionTimerOpts.progressCircle.strokeColor="#45ccce",t.ionTimerOpts.text={color:"#45ccce"}},t.setTimerInfo=function(){t.ionTimerOpts.controls.pause(),o.setReadingTimeInfo(t.timeRead),t.closeTimerModal()}}angular.module("app.timer",[]).controller("appTimer",o),o.$inject=["$scope"]}();